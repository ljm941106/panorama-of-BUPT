<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>北京邮电大学数字政务</title>
  <link rel="stylesheet" type="text/css" href="css/reset.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.2/build/pannellum.css" />
  <link rel="stylesheet" type="text/css" href="css/index.css" />
</head>
<body>
  <div id="panorama"></div>
  <div class="right-top-menu">
    <h2>窗口搜索</h2>
    <ul>
      <li id="all">所有事项</li>
    </ul>
  </div>
  <div class="modal">
    <div class="modal-underview"></div>
    <div class="modal-content">
      <h2>办事事项</h2>
      <i class="icon-close"><img src="image/close.png"></i>
      <ul>
        <li>
          <span>党团综合</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=党团综合" class="button">办事点我</a>
        </li>
        <li>
          <span>教学服务</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=教学服务" class="button">办事点我</a>
        </li>
        <li>
          <span>科研财务</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=科研财务" class="button">办事点我</a>
        </li>
        <li>
          <span>人事服务</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=人事服务" class="button">办事点我</a>
        </li>
        <li>
          <span>外事服务</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=外事服务" class="button">办事点我</a>
        </li>
        <li>
          <span>资产服务</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=资产服务" class="button">办事点我</a>
        </li>
        <li>
          <span>IT服务</span>
          <a target="_blank" href="https://service.bupt.edu.cn/v2/service/index?selectclasstag=IT服务" class="button">办事点我</a>
        </li>
      </ul>
    </div>
  </div>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.2/build/pannellum.js"></script>
  <script src="js/jquery-2.1.0.min.js" type="text/javascript" charset="utf-8"></script>
  <script>
    //pc
    var scene1Pic = "https://d.agilemaster.com.cn/o_1dirfslsb16u1k531a2643n8moe.jpg";
    var scene2Pic = "https://d.agilemaster.com.cn/o_1dirfslsbv60grg19p16iq1cv7f.jpg";
    var scene3Pic = "https://d.agilemaster.com.cn/o_1dirfslsb1ifn12hli8i19hf1eisg.jpg";
    var panoramaHfov = 90; //景深
    var maxHfov = 110; //最大景深
    //链接
    var linkOut = -2.2;
    var linkAsset = -1.4;
    var linkIT = -0.6;
    var linkTeach = -2.2;
    var linkParty = -1.4;
    var mobileCss = '';
    //移动端
    if (/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)) { //移动端
      //质量10
      scene1Pic = "https://d.agilemaster.com.cn/o_1dirfslsb1itt1f3t1h25e4a1ajmh.jpg";
      scene2Pic = "https://d.agilemaster.com.cn/o_1dis586bbbuauga1rht10jjoiu45.jpg";
      scene3Pic = "https://d.agilemaster.com.cn/o_1dirfslsc1evib78gpklp61fpcj.jpg";
      panoramaHfov = 40;
      maxHfov = 55;
      linkOut = -2;
      linkAsset = -1;
      linkIT = 0;
      linkTeach = -2;
      linkParty = -1;
      mobileCss = ' mobile'
    }

    $("#all").click(function () {
      $(".modal").fadeIn()
    });
    $(".modal-content .icon-close").click(function () {
      $(".modal").fadeOut()
    })
    $(".modal-underview").click(function () {
      $(".modal").fadeOut()
    })
    var viewer = pannellum.viewer('panorama', {
      "default": {
        "firstScene": "scene1",
        "author": "北京邮电大学",
        "sceneFadeDuration": 1000,
        "autoLoad": true,
        "minPitch": -45,
        "maxPitch": 45,
        "minHfov": 35,
        "maxHfov": maxHfov,
      },
      "scenes": {
        "scene1": {
          "title": "场景1",
          "hfov": panoramaHfov,
          "pitch": -10,
          "yaw": 0,
          "type": "equirectangular",
          "panorama": scene1Pic,
          "hotSpots": [
            {
              "pitch": -15,
              "yaw": 0,
              "targetHfov": panoramaHfov,
              "type": "scene",
              "text": "走到这里",
              "sceneId": "scene2"
						},
            {
              "pitch": -19,
              "yaw": -84.5,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=党团综合",
              "cssClass": "operation1" + mobileCss
						}, {
              "pitch": -10,
              "yaw": -30,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=教学服务",
              "cssClass": "operation2" + mobileCss
						}, {
              "pitch": -5,
              "yaw": -16,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=科研财务",
              "cssClass": "operation3" + mobileCss
						},
            {
              "pitch": linkIT,
              "yaw": -7,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=IT服务",
              "cssClass": "operation7" + mobileCss
						},
            {
              "pitch": linkAsset,
              "yaw": -8,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=资产服务",
              "cssClass": "operation6" + mobileCss
            },
            {
              "pitch": linkOut,
              "yaw": -9,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=外事服务",
              "cssClass": "operation5" + mobileCss
						},
            {
              "pitch": -3,
              "yaw": -10,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=人事服务",
              "cssClass": "operation4" + mobileCss
						},
					]
        },
        "scene2": {
          "title": "场景2",
          "pitch": -10,
          "hfov": panoramaHfov,
          "yaw": 0,
          "type": "equirectangular",
          "panorama": scene2Pic,
          "hotSpots": [
            {
              "pitch": -15,
              "yaw": 0,
              "type": "scene",
              "text": "走到这里",
              "sceneId": "scene3",
              "targetYaw": 135,
              "targetPitch": -10,
              "targetHfov": panoramaHfov,
						}, {
              "pitch": -20,
              "yaw": -180,
              "type": "scene",
              "text": "回到前台",
              "sceneId": "scene1",
              "targetYaw": 77,
              "targetPitch": 0,
              "targetHfov": panoramaHfov,
						},
            {
              "pitch": -4,
              "yaw": -166,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=党团综合",
              "cssClass": "operation1" + mobileCss
            }, {
              "pitch": -7.5,
              "yaw": -159,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=教学服务",
              "cssClass": "operation2" + mobileCss
            }, {
              "pitch": -14,
              "yaw": -132.2,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=科研财务",
              "cssClass": "operation3" + mobileCss
            }, {
              "pitch": -15.8,
              "yaw": -54.4,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=人事服务",
              "cssClass": "operation4" + mobileCss
            }, {
              "pitch": -8,
              "yaw": -23,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=外事服务",
              "cssClass": "operation5" + mobileCss
            }, {
              "pitch": -2,
              "yaw": -8,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=IT服务",
              "cssClass": "operation7" + mobileCss
            }, {
              "pitch": -4,
              "yaw": -12,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=资产服务",
              "cssClass": "operation6" + mobileCss
            }
					]
        },
        "scene3": {
          "title": "场景3",
          "pitch": -10,
          "hfov": panoramaHfov,
          "yaw": 0,
          "type": "equirectangular",
          "panorama": scene3Pic,
          "hotSpots": [
            {
              "pitch": -20,
              "yaw": 0,
              "type": "scene",
              "text": "走到这里",
              "sceneId": "scene2",
              "targetYaw": 180,
              "targetPitch": -10,
              "targetHfov": panoramaHfov,
						},
            {
              "pitch": linkParty,
              "yaw": 8,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=党团综合",
              "cssClass": "operation1" + mobileCss
            }, {
              "pitch": linkTeach,
              "yaw": 9,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=教学服务",
              "cssClass": "operation2" + mobileCss
            },
            {
              "pitch": -3,
              "yaw": 10,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=科研财务",
              "cssClass": "operation3" + mobileCss
            },
            {
              "pitch": -5,
              "yaw": 15,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=人事服务",
              "cssClass": "operation4" + mobileCss
            }, {
              "pitch": -9,
              "yaw": 29,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=外事服务",
              "cssClass": "operation5" + mobileCss
            },
            {
              "pitch": -18.5,
              "yaw": 77.5,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=资产服务",
              "cssClass": "operation6" + mobileCss
            },
            {
              "pitch": -11.6,
              "yaw": 145,
              "type": "info",
              "text": "点我办事",
              "URL": "https://service.bupt.edu.cn/v2/service/index?selectclasstag=IT服务",
              "cssClass": "operation7" + mobileCss
            }
					]
        }
      }
    });
    // $(".pnlm-hotspot-base").addClass('mobile')
  </script>

</body>
</html>
